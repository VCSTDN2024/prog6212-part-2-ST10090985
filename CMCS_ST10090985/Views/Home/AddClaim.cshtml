@{
    ViewData["Title"] = "Add Claim Page";
}

@model Claim

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Input Claim Details</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script>
        function updateFileName() {
            var fileInput = document.getElementById('fileInput');
            var fileNameDisplay = document.getElementById('fileName');
            fileNameDisplay.textContent = fileInput.files.length > 0 ? fileInput.files[0].name : 'No file chosen';
        }
    </script>
</head>
<body>
    <div class="container mt-5">
        <h1>Input Claim Details</h1>
        <!-- Explicitly set the controller and action -->
        <form method="post" asp-controller="Home" asp-action="SubmitClaim" enctype="multipart/form-data">
            <div class="form-group">
                <label for="WorkedHours">Hours Worked</label>
                <!--Input for class Claim property WorkedHours-->
                <input type="number" class="form-control" asp-for="WorkedHours" />
            </div>
            <div class="form-group">
                <label for="HourlyRate">Hourly Rate</label>
                <!--Input for class Claim property HourlyRate-->
                <input type="number" class="form-control" asp-for="HourlyRate" />
            </div>
            <div class="form-group">
                <label for="AdditionalNotes">Additional Notes</label>
                <!--Input for class Claim property AdditionalNotes-->
                <textarea class="form-control" asp-for="AdditionalNotes"></textarea>
                <!--Set the status for the Claim to Pending-->
                <input type="hidden" asp-for="Status" value="Pending" />
                <input type="hidden" asp-for="UploadedFileName" value="Pending" />

            </div>
            <div class="form-group">
                <label for="fileInput">Attach File</label>
                <!--Input field for document for the Claim to Pending-->
                <input type="file" class="form-control-file" id="fileInput" name="UploadedFile" onchange="updateFileName()" />
                <small class="form-text text-muted" id="fileName">No file chosen</small>
            </div>

            <button type="submit" class="btn btn-primary">Add Claim</button>
        </form>
    </div>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>
</html>
